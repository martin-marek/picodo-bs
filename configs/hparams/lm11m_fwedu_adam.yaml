# @package _global_

defaults:
  - /base
  - /model/lm11m
  - /dataset/fwedu_gpt2
  - _self_

bs_configs:
  1:
    opt:
      peak_lr: 0.0017
      t1: 40_000
      t2: 10_000_000
  4:
    opt:
      peak_lr: 0.002
      t1: 40_000
      t2: 10_000_000
  16:
    opt:
      peak_lr: 0.002
      t1: 60_000
      t2: 10_000_000
  64:
    opt:
      peak_lr: 0.003
      t1: 200_000
      t2: 10_000_000
  256:
    opt:
      peak_lr: 0.005
      t1: 1_000_000
      t2: 10_000_000
  1024:
    opt:
      peak_lr: 0.005
      t1: 3_000_000
      t2: 20_000_000
  4096:
    opt:
      peak_lr: 0.0025
      t1: 6_000_000
      t2: 20_000_000

opt:
  optimizer: 'adamw'
